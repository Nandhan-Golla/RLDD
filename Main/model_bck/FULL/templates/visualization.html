{% extends "base.html" %}
{% block title %}Data Visualization - LUMINARIX{% endblock %}
{% block content %}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="card col-span-2">
            <h1 class="text-4xl font-bold text-blue-300 mb-6">Clinical Data Visualization</h1>
            <p class="text-gray-300 mb-8">Explore <span class="highlight">drug efficacy</span> and molecular structures for informed decisions.</p>
        </div>

        <div class="card">
            <h2 class="text-2xl font-semibold text-gray-200 mb-4">Drug Efficacy Analysis</h2>
            {% if drug_plot %}
                <img src="data:image/png;base64,{{ drug_plot }}" alt="Drug Effects" class="rounded-lg w-full border border-blue-300/30">
            {% else %}
                <p class="text-gray-400">Efficacy data unavailable.</p>
            {% endif %}
            <a href="{{ url_for('download_drug_effects') }}" class="button mt-6 inline-block">Download Analysis</a>
        </div>

        <div class="card">
            <h2 class="text-2xl font-semibold text-gray-200 mb-4">Molecular Structure: {{ drug_name }}</h2>
            {% if drug_structure_plot %}
                <img src="data:image/png;base64,{{ drug_structure_plot }}" alt="Drug Structure Plot" class="rounded-lg w-full border border-blue-300/30">
                <button onclick="alert('3D visualization activated: {{ drug_name }} structure displayed')" class="button mt-6 w-full">View in 3D</button>
            {% else %}
                <p class="text-gray-400">No structure data for {{ drug_name }}.</p>
            {% endif %}
            <a href="{{ url_for('download_drug_structure') }}" class="button mt-6 inline-block">Download Structure</a>
        </div>

        <div class="card col-span-2 flex justify-center">
            <a href="{{ url_for('upload_file') }}" class="button">Return to Upload</a>
        </div>
    </div>
{% endblock %}